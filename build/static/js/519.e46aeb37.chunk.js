"use strict";(self.webpackChunkirepoter_frontend=self.webpackChunkirepoter_frontend||[]).push([[519],{32:function(e,n,t){t.r(n),t.d(n,{default:function(){return p}});var i=t(433),o=t(142);function r(e,n,t){return(n=(0,o.Z)(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var a=t(439),l=t(791),u=t(689),d=t(184);var p=function(){var e=(0,l.useState)([]),n=(0,a.Z)(e,2),t=n[0],o=n[1],r=(0,l.useState)({red_flag:"",location:"",time:"",date:"",status:""}),c=(0,a.Z)(r,2),p=c[0],f=c[1],g=(0,l.useState)({pending:!0,review:!0,questioning:!0,concluded:!0}),h=(0,a.Z)(g,2),v=h[0],j=h[1];(0,l.useEffect)((function(){fetch("/reports").then((function(e){return e.json()})).then((function(e){return o(e)})).catch((function(e){return console.error(e)}))}),[]);var b=(0,u.UO)().title;console.log(t);var y=t.filter((function(e){return e.red_flag===b}));return(0,d.jsxs)("div",{children:[y.map((function(e){return console.log(e),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{children:e.red_flag}),(0,d.jsxs)("p",{children:["Location: ",e.location]}),(0,d.jsxs)("p",{children:["Time: ",e.time]}),(0,d.jsxs)("p",{children:["Date: ",e.date]})]},e.id)})),console.log(y),(0,d.jsxs)("div",{children:[(0,d.jsxs)("select",{onChange:function(e){switch(e.target.value){case"Pending":j({pending:!1,review:!0,questioning:!0,concluded:!0});break;case"Review":j({pending:!0,review:!1,questioning:!0,concluded:!0});break;case"Questioning":j({pending:!0,review:!0,questioning:!1,concluded:!0});break;case"Concluded":j({pending:!0,review:!0,questioning:!0,concluded:!1});break;default:j({pending:!1})}},onSubmit:function(e,n){e.preventDefault();var r=s({},p);fetch("/reports/".concat(n),{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){console.log(e),f({red_flag:"",location:"",time:"",date:"",status:""});var n=[].concat((0,i.Z)(t),[e]);o(n)}))},children:[(0,d.jsx)("option",{value:"Pending",children:y.map((function(e){return e.status}))}),(0,d.jsx)("option",{value:"Review",children:"Review"}),(0,d.jsx)("option",{value:"Questioning",children:"Questioning"}),(0,d.jsx)("option",{value:"Concluded",children:"Concluded"})]}),(0,d.jsx)("br",{}),(0,d.jsx)("div",{style:{display:v.pending?"none":"inline-block"},className:"reason",name:"pending",children:"Please select status when you're ready to begin investigation!"}),(0,d.jsx)("input",{style:{display:v.review?"none":"inline-block"},className:"reason",type:"text",name:"review",placeholder:"How are you reviewing this?"}),(0,d.jsx)("input",{style:{display:v.questioning?"none":"inline-block"},className:"reason",type:"text",name:"questioning",placeholder:"Who are you looking into and why?..."}),(0,d.jsx)("input",{style:{display:v.concluded?"none":"inline-block"},className:"reason",type:"text",name:"concluded",placeholder:"What was the final discovery?"})]})]})}}}]);
//# sourceMappingURL=519.e46aeb37.chunk.js.map